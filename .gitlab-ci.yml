image: golang:1.16-buster

stages:
  - test

test:app:
  script:
    - go test ./... -bench=. -race -timeout 10000ms -coverprofile cover.out
    - go tool cover -func=cover.out
